# Поиск аномалий - система алертов

## Описание проекта 

Каждые 15 минут DAG Airflow проверяет ключевые метрики на наличие аномалий - такие как:
- активнные пользователи в ленте/мессенджере
- просмотры
- лайки
- CTR
- кол-во отправленных сообщений

## Методология

### Правило трех сигм

Метод применим для поиска аномалий в выборках, имеющийх нормальное распределение или близкое к нему.
В данном случае CTR распределен нормально, поэтому для поиска аномалий для CTR используется данный метод.
Идея алгоритма проста, с помощью правила трех сигм строиться доверительный интервал, то что выходит за эти рамки
считаем аномалией. 

Выбросы по правилу трех сигм определяются следующим образом:
$$
x_i < \mu - 3\sigma \quad \text{или} \quad x_i > \mu + 3\sigma
$$
где $\mu$ — среднее значение, а $\sigma$ — стандартное отклонение.

### Межквартильный размах

Идея аналогичная предылущему методу, но не требующая нормальности распределения. Для всех остальных метрик используется данный метод.

Выбросы определяются следующим образом:
$$
x_i < Q_{25} - a \cdot IQR \quad \text{или} \quad x_i > Q_{75} + a \cdot IQR
$$
где $IQR$ — межквартильный размах, а $a$ — коэффициент.

### Пример сообщения алерта в телеграм

### Вид дашборда на который указывает ссылка

## Технологии 

- Python 3.12
- Apache Airflow 3.0




